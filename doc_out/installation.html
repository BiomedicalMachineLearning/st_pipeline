<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing the Spatial Transcriptomics pipeline &mdash; ST Pipeline 1.3.3 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ST Pipeline 1.3.3 documentation" href="index.html" />
    <link rel="next" title="Manual" href="manual.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ST Pipeline 1.3.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing-the-spatial-transcriptomics-pipeline">
<h1>Installing the Spatial Transcriptomics pipeline<a class="headerlink" href="#installing-the-spatial-transcriptomics-pipeline" title="Permalink to this headline">Â¶</a></h1>
<p>These are the general instructions for installing the st_pipeline from scratch
on you compute environment. All the commands can be performed as a user with no
elevated permissions.</p>
<p>Check that you have Anaconda installed, and that it is using python 2.7</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">&quot;import</span> <span class="pre">sys;</span> <span class="pre">print</span> <span class="pre">sys.version&quot;</span></code></div></blockquote>
<p>Example output:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">2.7.12</span> <span class="pre">|Anaconda</span> <span class="pre">custom</span> <span class="pre">(64-bit)|</span> <span class="pre">(default,</span> <span class="pre">Jul</span>&nbsp; <span class="pre">2</span> <span class="pre">2016,</span>
<span class="pre">17:42:40)</span> <span class="pre">[GCC</span> <span class="pre">4.4.7</span> <span class="pre">20120313</span> <span class="pre">(Red</span> <span class="pre">Hat</span> <span class="pre">4.4.7-1)]</span></code></div></blockquote>
<p>Here one can see that the python version is 2.7.12, and that Anaconda is
installed.  This shows an example of output when Anaconda is not installed:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">2.7.10</span> <span class="pre">(default,</span> <span class="pre">Oct</span> <span class="pre">23</span> <span class="pre">2015,</span> <span class="pre">19:19:21)</span> <span class="pre">[GCC</span> <span class="pre">4.2.1</span> <span class="pre">Compatible</span> <span class="pre">Apple</span> <span class="pre">LLVM</span> <span class="pre">7.0.0</span>
<span class="pre">(clang-700.0.59.5)]</span></code></div></blockquote>
<p>If Anaconda is not installed on your system, it can be downloaded from the
following link: Important! Download the python 2.7 version</p>
<p><a class="reference external" href="https://www.continuum.io/downloads#linux">https://www.continuum.io/downloads#linux</a></p>
<p>Direct link for wget or curl (at the time of writing)
<a class="reference external" href="https://repo.continuum.io/archive/Anaconda2-4.1.1-Linux-x86_64.sh">https://repo.continuum.io/archive/Anaconda2-4.1.1-Linux-x86_64.sh</a></p>
<blockquote>
<div><code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://repo.continuum.io/archive/Anaconda2-4.1.1-Linux-x86_64.sh</span></code></div></blockquote>
<p>To run the installer, type the following command (the numbers might change
depending on the current version at the time of download):</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">bash</span> <span class="pre">Anaconda2-4.1.1-Linux-x86_64.sh</span></code></div></blockquote>
<p>During the installation you will be asked if you want to pre-append the Anaconda
path to your path. Choose yes.  If you do not choose yes, run the following
command:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">echo</span> <span class="pre">export</span> <span class="pre">PATH=&quot;~/anaconda2/bin:$PATH&quot;</span> <span class="pre">&gt;</span> <span class="pre">~/.bash_profile</span></code></div></blockquote>
<p><strong>OR</strong></p>
<p>Edit your ~/.bash_profile directly by entering the following text using your
favourite text editor:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">export</span> <span class="pre">PATH=&quot;~/anaconda2/bin:$PATH&quot;</span></code></div></blockquote>
<p>To make sure that the changes have been regestired by the shell you can either:</p>
<p>Log out from the server and then log back in</p>
<p><strong>OR</strong></p>
<dl class="docutils">
<dt>Type</dt>
<dd><code class="docutils literal"><span class="pre">source</span> <span class="pre">~/.bash_profile</span></code></dd>
</dl>
<p>After doing this, we need to install a couple of packages using anaconda to use
the pipeline. Type the following commands:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">nomkl</span></code></p>
<p><code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">pysam</span></code></p>
</div></blockquote>
<p>We then create a virtual environment from which we will run the pipeline in.
Type the following command:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">-n</span> <span class="pre">pipeline</span> <span class="pre">python=2.7</span> <span class="pre">anaconda</span></code></div></blockquote>
<p>The name for the virtual environment that we have just created is specified by
the -n flag. Here is is called pipeline, but this can be anything that you want
to name it. To run the pipeline, this virtual environment must be activated. To
activate the virtual environment, enter the following command:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">pipeline</span></code></div></blockquote>
<p>Where pipeline is the name of your virtual environment (here the virtual
environment is called pipeline). To deactivate the virtual environment, type the
following command:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">source</span> <span class="pre">deactivate</span></code></div></blockquote>
<p>You need to obtain the pipeline from github to use it. The following steps will
tell you how to perform this.</p>
<p>Change to your home directory</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">cd</span></code></div></blockquote>
<p>Clone the repository from github</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git://github.com/SpatialTranscriptomicsResearch/st_pipeline.git</span></code></div></blockquote>
<p>Change into the st_pipeline directory</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">cd</span> <span class="pre">st_pipeline</span></code></div></blockquote>
<p>Activate the virtual environment (if not already active)</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">pipeline</span></code></div></blockquote>
<p>Install the pipeline</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">build</span></code></p>
<p><code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code></p>
</div></blockquote>
<p>Alternatively, you can simply install the pipeline using PyPy:</p>
<blockquote>
<div><a href="#id1"><span class="problematic" id="id2">``</span></a>pip install stpipeline`</div></blockquote>
<p>Now the pipeline is installed and ready to be run.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="intro.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="manual.html"
                        title="next chapter">Manual</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             >next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ST Pipeline 1.3.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, Jose Fernandez Navarro.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>